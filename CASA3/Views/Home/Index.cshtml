@model Core.ViewModels.HomePageVM
@{
    ViewData["Title"] = "Home";
}

@if(Model.Banner.Count > 0)
{
    <section class="relative h-[85vh] overflow-hidden">
        <div id="bannerSlider" class="relative h-full">
            @for (int i = 0; i < Model.Banner.Count; i++)
            {
                var banner = Model.Banner[i];
                <div class="banner-slide absolute inset-0 transition-opacity duration-1000 @(i == 0 ? "opacity-100 z-10" : "opacity-0 z-0")">

                    <!-- Background -->
                    <div class="absolute inset-0 bg-cover bg-center"
                         style="background-image:url('@banner.BackgroundImageUrl')"></div>

                    <!-- Overlay -->
                    <div class="absolute inset-0 bg-black/30"></div>

                    <!-- Content -->
                    <div class="relative z-10 h-full flex items-center">
                        <div class="max-w-7xl px-6 text-white">

                            <!-- Tag -->
                           @*  @if (banner.BadgeText != null)
                            {
                                <div class="inline-block bg-black px-6 py-2 text-xs tracking-widest font-semibold mb-4">
                                    @banner.BadgeText
                                </div>
                            } *@

                            <!-- Title -->
                          @*   <h1 class="text-5xl md:text-7xl font-serif tracking-wider mb-3">
                                @banner.Title
                            </h1> *@

                            <!-- Subtitle -->
                           @*  <p class="text-lg tracking-wide mb-6">
                                @banner.Subtitle
                            </p> *@

                            <!-- CTA -->
                           @*  <a href="@banner.ButtonLink"
                               class="inline-block bg-white text-black px-8 py-3 text-sm font-semibold tracking-wide
                                              hover:bg-black hover:text-white transition">
                                @banner.ButtonText
                            </a> *@
                        </div>
                    </div>
                </div>
            }
            <div class="absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-3 z-20">
                @for (int i = 0; i < Model.Banner.Count; i++)
                {
                    <button class="banner-dot w-3 h-3 rounded-full border border-white
                                   @(i == 0 ? "bg-white" : "")"
                            data-index="@i"></button>
                }
            </div>
        </div>
    </section>
}


<!-- Services Section -->
<section class="bg-[#f8fafc] py-16 md:py-24">
    <div class="max-w-7xl mx-auto px-6 lg:px-8">
        <!-- Section Header -->
        <div class="text-center mb-16">
            <span class="inline-block bg-[#EFF6FF] text-[#2563EB] text-xs font-semibold px-4 py-2 rounded-full uppercase tracking-widest mb-4">What We Do</span>
            <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 mb-4 leading-tight" style="font-family:'Space Grotesk',sans-serif;">
                The MAL-X Software Advantage
            </h2>
            <p class="text-gray-500 text-lg max-w-2xl mx-auto">
                We deliver end-to-end software solutions that drive digital transformation, operational efficiency, and business growth across Africa and beyond.
            </p>
        </div>

        <!-- Services Grid -->
        <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Service 1 -->
            <div class="bg-white rounded-2xl p-8 shadow-sm border border-gray-100 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group">
                <div class="w-12 h-12 bg-[#EFF6FF] rounded-xl flex items-center justify-center mb-6 group-hover:bg-[#2563EB] transition-colors duration-300">
                    <svg class="group-hover:stroke-white transition-colors duration-300" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-3">Custom Software Development</h3>
                <p class="text-gray-500 text-sm leading-relaxed">Bespoke web applications, enterprise systems, and SaaS platforms engineered to solve your exact business challenges.</p>
            </div>
            <!-- Service 2 -->
            <div class="bg-white rounded-2xl p-8 shadow-sm border border-gray-100 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group">
                <div class="w-12 h-12 bg-[#EFF6FF] rounded-xl flex items-center justify-center mb-6 group-hover:bg-[#2563EB] transition-colors duration-300">
                    <svg class="group-hover:stroke-white transition-colors duration-300" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12.01" y2="18"></line></svg>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-3">Mobile Applications</h3>
                <p class="text-gray-500 text-sm leading-relaxed">Native and cross-platform iOS & Android apps with exceptional UX, performance, and scalability built in from day one.</p>
            </div>
            <!-- Service 3 -->
            <div class="bg-white rounded-2xl p-8 shadow-sm border border-gray-100 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group">
                <div class="w-12 h-12 bg-[#EFF6FF] rounded-xl flex items-center justify-center mb-6 group-hover:bg-[#2563EB] transition-colors duration-300">
                    <svg class="group-hover:stroke-white transition-colors duration-300" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path></svg>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-3">Cloud Solutions</h3>
                <p class="text-gray-500 text-sm leading-relaxed">Scalable cloud architecture, infrastructure management, and migration services on AWS, Azure, and Google Cloud.</p>
            </div>
            <!-- Service 4 -->
            <div class="bg-white rounded-2xl p-8 shadow-sm border border-gray-100 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group">
                <div class="w-12 h-12 bg-[#EFF6FF] rounded-xl flex items-center justify-center mb-6 group-hover:bg-[#2563EB] transition-colors duration-300">
                    <svg class="group-hover:stroke-white transition-colors duration-300" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19l7-7 3 3-7 7-3-3z"></path><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path><path d="M2 2l7.586 7.586"></path><circle cx="11" cy="11" r="2"></circle></svg>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-3">UI/UX Design</h3>
                <p class="text-gray-500 text-sm leading-relaxed">User-centric design systems, prototypes, and interfaces that are intuitive, accessible, and visually compelling.</p>
            </div>
            <!-- Service 5 -->
            <div class="bg-white rounded-2xl p-8 shadow-sm border border-gray-100 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group">
                <div class="w-12 h-12 bg-[#EFF6FF] rounded-xl flex items-center justify-center mb-6 group-hover:bg-[#2563EB] transition-colors duration-300">
                    <svg class="group-hover:stroke-white transition-colors duration-300" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"></circle><path d="M19.07 4.93a10 10 0 0 1 0 14.14M4.93 4.93a10 10 0 0 0 0 14.14"></path></svg>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-3">DevOps & CI/CD</h3>
                <p class="text-gray-500 text-sm leading-relaxed">Automated pipelines, containerisation, monitoring, and continuous delivery for faster, more reliable software releases.</p>
            </div>
            <!-- Service 6 -->
            <div class="bg-white rounded-2xl p-8 shadow-sm border border-gray-100 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 group">
                <div class="w-12 h-12 bg-[#EFF6FF] rounded-xl flex items-center justify-center mb-6 group-hover:bg-[#2563EB] transition-colors duration-300">
                    <svg class="group-hover:stroke-white transition-colors duration-300" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-3">Data & Analytics</h3>
                <p class="text-gray-500 text-sm leading-relaxed">Business intelligence dashboards, data pipelines, and AI-powered insights that turn your data into strategic decisions.</p>
            </div>
        </div>

        <div class="text-center mt-12">
            <a asp-controller="Home" asp-action="AboutUs"
               class="inline-flex items-center gap-2 text-[#2563EB] font-semibold tracking-wide hover:gap-3 transition-all duration-300 group">
                Learn more about our capabilities
                <span class="transform transition-transform duration-300 group-hover:translate-x-1">→</span>
            </a>
        </div>
    </div>
</section>

<section class="bg-[#0F172A] py-16 md:py-24">
    <div class="max-w-7xl mx-auto px-6 lg:px-8">

        <div class="grid lg:grid-cols-12 gap-12 items-stretch">

            <!-- MISSION -->
            <div class="lg:col-span-6 flex">
                <div class="relative w-full p-10 md:p-14 text-white rounded-tl-[70px] rounded-br-[70px]
                            shadow-[0_20px_40px_rgba(120,120,120,0.35)] overflow-hidden">

                    <!-- Background Image -->
                    <div class="absolute inset-0 z-0">
                        <img src="/images/texture-bg.jpg" alt="" class="w-full h-full object-cover">
                    </div>

                    <!-- Dark Overlay -->
                    <div class="absolute inset-0 bg-black/60 z-10"></div>

                    <!-- CONTENT WRAPPER -->
                    <div class="relative z-20">

                        <!-- Icon -->
                        <div class="mb-6">
                            <div class="w-16 h-16 bg-[#2563EB] rounded-2xl flex items-center justify-center">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>
                            </div>
                        </div>

                        <!-- Title -->
                        <h3 class="text-3xl md:text-4xl font-semibold tracking-wide mb-3">
                            MISSION
                        </h3>

                        <div class="w-16 h-[3px] bg-[#2563EB] mb-6"></div>

                        <p class="text-gray-200 leading-relaxed text-base md:text-lg">
                            To deliver world-class software solutions that address the complex challenges of modern businesses — enabling organisations to innovate faster, operate smarter, and achieve sustainable digital growth across every industry.
                        </p>

                    </div>
                </div>
            </div>

            <!-- VISION -->
            <div class="lg:col-span-6 flex">
                <div class="relative w-full p-10 md:p-14 text-white rounded-tl-[70px] rounded-br-[70px]
                            shadow-[0_20px_40px_rgba(120,120,120,0.35)] overflow-hidden">

                    <!-- Background Image -->
                    <div class="absolute inset-0 z-0">
                        <img src="/images/texture-bg.jpg" alt="" class="w-full h-full object-cover">
                    </div>

                    <!-- Dark Overlay -->
                    <div class="absolute inset-0 bg-black/60 z-10"></div>

                    <!-- CONTENT WRAPPER -->
                    <div class="relative z-20">

                        <!-- Icon -->
                        <div class="mb-6">
                            <div class="w-16 h-16 bg-[#7C3AED] rounded-2xl flex items-center justify-center">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                            </div>
                        </div>

                        <!-- Title -->
                        <h3 class="text-3xl md:text-4xl font-semibold tracking-wide mb-3">
                            VISION
                        </h3>

                        <div class="w-16 h-[3px] bg-[#7C3AED] mb-6"></div>

                        <p class="text-gray-200 leading-relaxed text-base md:text-lg">
                            To become Africa's foremost software engineering company — delivering innovative, reliable, and impactful technology solutions that empower organisations to compete globally and shape a prosperous digital future.
                        </p>

                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<!-- Featured Projects Section -->
@* <section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-6">
        <div class="text-center mb-12">
            <span class="inline-block bg-[#EFF6FF] text-[#2563EB] text-xs font-semibold px-4 py-2 rounded-full uppercase tracking-widest mb-4">Our Portfolio</span>
            <h2 class="text-4xl md:text-5xl font-bold text-[#0F172A] tracking-tight" style="font-family:'Space Grotesk',sans-serif;">
                FEATURED PROJECTS
            </h2>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            @foreach (var project in Model.FeaturedProjects)
            {
                var hasUrl = !string.IsNullOrWhiteSpace(project.Url);

                <div class="group bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100 hover:shadow-lg hover:-translate-y-1 transition-all duration-300 flex flex-col">
                    <!-- Image -->
                    <div class="relative aspect-[4/3] overflow-hidden bg-[#0F172A]">
                        @if (!string.IsNullOrWhiteSpace(project.HeroImageUrl))
                        {
                            <img src="@project.HeroImageUrl"
                                 alt="@project.Name"
                                 class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" />
                        }
                        else
                        {
                            <div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-[#1E293B] to-[#0F172A]">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#2563EB" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="opacity-40"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>
                            </div>
                        }
                        @if (hasUrl)
                        {
                            <div class="absolute inset-0 bg-[#0F172A]/75 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                <a href="@project.Url" target="_blank" rel="noopener noreferrer"
                                   class="flex items-center gap-2 bg-[#2563EB] text-white px-5 py-2.5 rounded-xl font-semibold text-sm hover:bg-[#1D4ED8] transition-colors">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
                                    Visit Website
                                </a>
                            </div>
                        }
                    </div>

                    <!-- Info -->
                    <div class="p-5 flex flex-col flex-grow">
                        <h3 class="text-base font-bold text-[#0F172A] mb-4 uppercase tracking-wide leading-snug" style="font-family:'Space Grotesk',sans-serif;">
                            @project.Name
                        </h3>
                        <div class="flex gap-2 mt-auto">
                            @if (hasUrl)
                            {
                                <a href="@project.Url" target="_blank" rel="noopener noreferrer"
                                   class="flex-1 flex items-center justify-center gap-1.5 bg-[#2563EB] text-white px-3 py-2 rounded-lg text-xs font-semibold hover:bg-[#1D4ED8] transition-colors">
                                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
                                    Visit
                                </a>
                            }
                            <a asp-controller="Home" asp-action="ProjectDetails" asp-route-id="@project.Id"
                               class="@(hasUrl ? "" : "flex-1") flex items-center justify-center gap-1.5 bg-[#f1f5f9] text-[#0F172A] px-3 py-2 rounded-lg text-xs font-semibold hover:bg-[#e2e8f0] transition-colors @(hasUrl ? "" : "w-full")">
                                Details
                            </a>
                        </div>
                    </div>
                </div>
            }
        </div>

        <div class="text-center mt-10">
            <a asp-controller="Home" asp-action="OurProject"
               class="inline-flex items-center gap-2 text-[#2563EB] font-semibold hover:gap-3 transition-all duration-300">
                View All Projects
                <span>→</span>
            </a>
        </div>
    </div>
</section>
 *@

<!-- The MAL-X Impact Section -->
<section class="bg-white py-16 md:py-24">
    <div class="max-w-7xl mx-auto px-6 lg:px-8">
        <!-- Section Title -->
        <div class="text-center mb-12">
            <span class="inline-block bg-[#EFF6FF] text-[#2563EB] text-xs font-semibold px-4 py-2 rounded-full uppercase tracking-widest mb-4">Our Journey</span>
            <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 tracking-tight" style="font-family:'Space Grotesk',sans-serif;">
                The MAL-X Digital Footprint
            </h2>
        </div>

        <!-- Year Navigation -->
        <div class="flex flex-wrap justify-start mb-12 overflow-hidden rounded-lg shadow-lg">
            @foreach (var yearData in Model.FootprintYears.OrderBy(y => y.Year))
            {
                <button class="footprint-year-btn px-6 md:px-8 py-3 md:py-4 text-sm md:text-base font-medium
                           transition-all duration-300 border-r border-gray-600 last:border-r-0
                           @(yearData.Year == Model.SelectedFootprintYear 
                           ? "bg-[#2563EB] text-white" : "bg-[#0F172A] text-white hover:bg-[#1E293B]")"
                        data-year="@yearData.Year">
                    @yearData.Year
                </button>
            }
        </div>

        <!-- Projects Grid -->
        <div id="footprintProjects" class="grid md:grid-cols-3 gap-6 md:gap-8 mb-12" style="--accent:#2563EB;">
            @{
                var selectedYearData = Model.FootprintYears.FirstOrDefault(y => y.Year == Model.SelectedFootprintYear);
            }
            @if (selectedYearData != null && selectedYearData.Projects.Any())
            {
                @foreach (var project in selectedYearData.Projects)
                {
                    <div class="flip-card-container relative h-[250px] md:h-[300px]">
                        <div class="flip-card w-full h-full">
                            <!-- Front Side (Dark with Gold Text) -->
                            <div class="flip-card-front absolute inset-0 p-8 md:p-12 shadow-xl
                                    flex flex-col justify-center overflow-hidden">
                                <!-- Textured Background -->
                                <div class="absolute inset-0 z-0">
                                    <img src="~/images/texture-bg.png" alt="" class="w-full h-full object-cover opacity-100">
                                </div>
                                <!-- Content -->
                                <div class="relative z-10 flex flex-col items-center justify-center">
                                    <h3 class="text-xl md:text-2xl font-bold mb-3 tracking-wide uppercase text-[#60A5FA]">
                                        @project.Title
                                    </h3>
                                    <p class="text-white text-base md:text-lg leading-relaxed">
                                        @project.Subtitle
                                    </p>
                                </div>
                            </div>
                            
                            <!-- Back Side (Image with Discover More Button) -->
                            <div class="flip-card-back absolute inset-0 overflow-hidden shadow-xl">
                                @if (!string.IsNullOrEmpty(project.ImageUrl))
                                {
                                    <div class="absolute inset-0">
                                        <img src="@project.ImageUrl" 
                                             alt="@project.Title" 
                                             class="w-full h-full object-cover" />
                                        <div class="absolute inset-0 bg-black/20"></div>
                                    </div>
                                }
                                else
                                {
                                    <div class="absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200"></div>
                                }
                                
                                <div class="absolute inset-0 flex flex-col items-center justify-center p-8">
                                    <h3 class="text-xl md:text-2xl font-serif font-bold text-gray-800 mb-8 text-center">
                                        @project.Title
                                    </h3>
                                    <a asp-controller="Home" asp-action="ProjectDetails" asp-route-id="@project.Id" 
                                       class="px-8 py-3 border-2 border-[#2563EB] bg-white/90 text-[#2563EB] 
                                              font-medium text-sm hover:bg-[#2563EB] hover:text-white 
                                              transition-all duration-300 rounded-lg">
                                        View Project
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            }
            else
            {
                <div class="md:col-span-2 text-center py-12">
                    <p class="text-gray-500 text-lg">No projects available for this year.</p>
                </div>
            }
        </div>

        <!-- Hidden data for JavaScript -->
        <div id="footprintData" style="display: none;">
            @foreach (var yearData in Model.FootprintYears)
            {
                <div data-year="@yearData.Year">
                    @foreach (var project in yearData.Projects)
                    {
                        <div data-id="@project.Id"
                             data-title="@project.Title" 
                             data-subtitle="@project.Subtitle"
                             data-image="@(project.ImageUrl ?? "")"
                             data-url="@(project.Url ?? "#")"></div>
                    }
                </div>
            }
        </div>

        <!-- Flip Card Styles -->
        <style>
            .flip-card-container {
                perspective: 1000px;
            }
            
            .flip-card {
                position: relative;
                width: 100%;
                height: 100%;
                transform-style: preserve-3d;
                transition: transform 0.6s;
            }
            
            .flip-card-container:hover .flip-card {
                transform: rotateY(180deg);
            }
            
            .flip-card-front,
            .flip-card-back {
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
            }
            
            .flip-card-front {
                z-index: 2;
            }
            
            .flip-card-back {
                transform: rotateY(180deg);
            }
        </style>

        <!-- Latest Insights Section -->
      @*   <div class="mt-16 pt-12 border-t border-gray-200">
            <h3 class="text-3xl md:text-4xl font-bold text-gray-900 mb-12 text-center tracking-tight" style="font-family:'Space Grotesk',sans-serif;">
                LATEST INSIGHTS
            </h3>
            
            @if (Model.Newsletters != null && Model.Newsletters.Any())
            {
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
                    @foreach (var newsletter in Model.Newsletters)
                    {
                        <div class="group cursor-pointer">
                            <a href="@newsletter.DocumentUrl" target="_blank" class="block">
                                <div class="relative overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 rounded-xl">
                                    <div class="aspect-[3/4] bg-gray-100">
                                        <img src="@newsletter.CoverImageUrl" 
                                             alt="Newsletter Cover"
                                             class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300" 
                                             onerror="this.src='/images/projects/project-1.webp';" />
                                    </div>
                                </div>
                            </a>
                        </div>
                    }
                </div>
            }
            else
            {
                <div class="text-center text-gray-600">
                    <p class="text-lg">Stay tuned for the latest insights and project updates.</p>
                </div>
            }
        </div> *@
    </div>
</section>



<script>
    document.addEventListener("DOMContentLoaded", () => {
        const slides = document.querySelectorAll(".banner-slide");
        const dots = document.querySelectorAll(".banner-dot");
        let current = 0;

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.toggle("opacity-100", i === index);
                slide.classList.toggle("opacity-0", i !== index);
                slide.classList.toggle("z-10", i === index);
                slide.classList.toggle("z-0", i !== index);
            });

            dots.forEach((dot, i) => {
                dot.classList.toggle("bg-white", i === index);
            });

            current = index;
        }

        dots.forEach(dot => {
            dot.addEventListener("click", () => {
                showSlide(parseInt(dot.dataset.index));
            });
        });

        setInterval(() => {
            showSlide((current + 1) % slides.length);
        }, 6000);
    });

    // MAL-X Digital Footprint Year Navigation
    (function() {
        const yearButtons = document.querySelectorAll(".footprint-year-btn");
        const projectsContainer = document.getElementById("footprintProjects");
        const dataContainer = document.getElementById("footprintData");
        
        // Build projects data object from hidden data elements
        const projectsData = {};
        const yearContainers = dataContainer.querySelectorAll('[data-year]');
        yearContainers.forEach(yearContainer => {
            const year = parseInt(yearContainer.getAttribute('data-year'));
            const projectElements = yearContainer.querySelectorAll('[data-title]');
            projectsData[year] = Array.from(projectElements).map(el => ({
                id: el.getAttribute('data-id') || '',
                title: el.getAttribute('data-title'),
                subtitle: el.getAttribute('data-subtitle'),
                imageUrl: el.getAttribute('data-image') || '',
                url: el.getAttribute('data-url') || '#'
            }));
        });

        yearButtons.forEach(button => {
            button.addEventListener("click", () => {
                const year = parseInt(button.dataset.year);
                
                // Update button states
                yearButtons.forEach(btn => {
                    btn.classList.remove("bg-[#2563EB]", "text-white");
                    btn.classList.add("bg-[#0F172A]", "text-white");
                });
                button.classList.remove("bg-[#0F172A]", "text-white");
                button.classList.add("bg-[#2563EB]", "text-white");
                
                // Update projects display
                const projects = projectsData[year] || [];
                if (projects.length > 0) {
                    projectsContainer.innerHTML = projects.map(project => {
                        const imageHtml = project.imageUrl 
                            ? `<div class="absolute inset-0">
                                    <img src="${project.imageUrl}" alt="${project.title}" class="w-full h-full object-cover" />
                                    <div class="absolute inset-0 bg-black/20"></div>
                                </div>`
                            : `<div class="absolute inset-0 bg-gradient-to-br from-blue-100 to-blue-200"></div>`;
                        
                        return `
                            <div class="flip-card-container relative h-[250px] md:h-[300px]">
                                <div class="flip-card w-full h-full">
                                    <!-- Front Side (Dark with Gold Text) -->
                                    <div class="flip-card-front absolute inset-0 p-8 md:p-12 shadow-xl
                                            flex flex-col justify-center overflow-hidden">
                                        <!-- Textured Background -->
                                        <div class="absolute inset-0 z-0">
                                            <img src="/images/texture-bg.png" alt="" class="w-full h-full object-cover opacity-100">
                                        </div>
                                        <!-- Content -->
                                        <div class="relative z-10 flex flex-col items-center justify-center">
                                            <h3 class="text-xl md:text-2xl font-bold mb-3 tracking-wide uppercase text-[#60A5FA]">
                                                ${project.title}
                                            </h3>
                                            <p class="text-white text-base md:text-lg leading-relaxed">
                                                ${project.subtitle}
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <!-- Back Side (Image with Discover More Button) -->
                                    <div class="flip-card-back absolute inset-0 overflow-hidden shadow-xl">
                                        ${imageHtml}
                                        <div class="absolute inset-0 flex flex-col items-center justify-center p-8">
                                            <h3 class="text-xl md:text-2xl font-serif font-bold text-gray-800 mb-8 text-center">
                                                ${project.title}
                                            </h3>
                                            <a href="/Home/ProjectDetails/${project.id}" 
                                               class="px-8 py-3 border-2 border-[#2563EB] bg-white/90 text-[#2563EB] 
                                                      font-medium text-sm hover:bg-[#2563EB] hover:text-white 
                                                      transition-all duration-300 rounded-lg">
                                                View Project
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `;
                    }).join('');
                } else {
                    projectsContainer.innerHTML = `
                        <div class="md:col-span-3 text-center py-12">
                            <p class="text-gray-500 text-lg">No projects available for this year.</p>
                        </div>
                    `;
                }
            });
        });
    })();
</script>

